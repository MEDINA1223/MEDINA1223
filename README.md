# incluir  < Cable.h >
# incluir  < Adafruit_GFX.h >
# incluir  < Adafruit_SH1106.h >

const  int pinpin = 7 ;
constante  int echoPin = 6 ;
int pulsador= 0 ;  
Larga duración;
int distanciaCm;
int personas = 0 ;
# definir  OLED_RESET - 1
Pantalla Adafruit_SH1106 (OLED_RESET); /* Objeto de clase Adafruit_SSD1306 */

const  carácter sin firmar  PROGMEM youtube [] = {
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x0F , 0xFF , 0xFE , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x1F , 0xFF , 0xFF , 0xFF , 0xFF , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x7F , 0xFF , 0xFF , 0xFF , 0xFF , 0xC0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xE0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0x9F , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0x8F , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x83 , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0x7F , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0x1F , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0x07 , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0x07 , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0x1F , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0x7F , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x80 , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x03 , 0xFF , 0xFF , 0x83 , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0x8F , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0x9F , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF8 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xF0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xE0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x7F , 0xFF , 0xFF , 0xFF , 0xFF , 0xC0 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x1F , 0xFF , 0xFF , 0xFF , 0xFF , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x07 , 0xFF , 0xFE , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x03 , 0xCC , 0x1E , 0x3C , 0xFC , 0xF8 , 0xF1 , 0x92 , 0x3C , 0x18 , 0x0F , 0x1E , 0x08 , 0x99 , 0x0C , 0x00 ,
0x02 , 0x0C , 0x10 , 0x62 , 0x10 , 0x89 , 0x99 , 0x92 , 0x62 , 0x18 , 0x08 , 0x90 , 0x08 , 0x99 , 0x0C , 0x00 ,
0x02 , 0x0C , 0x10 , 0x40 , 0x10 , 0x89 , 0x09 , 0x92 , 0x40 , 0x38 , 0x08 , 0x90 , 0x08 , 0x99 , 0x1C , 0x00 ,
0x03 , 0xCC , 0x1E , 0x40 , 0x10 , 0x89 , 0x09 , 0xD2 , 0x40 , 0x2C , 0x08 , 0xDE , 0x08 , 0x9D , 0x16 , 0x00 ,
0x02 , 0x0C , 0x10 , 0x40 , 0x10 , 0xF1 , 0x09 , 0x72 , 0x40 , 0x64 , 0x08 , 0xD0 , 0x08 , 0x97 , 0x32 , 0x00 ,
0x02 , 0x0C , 0x10 , 0x40 , 0x10 , 0x91 , 0x09 , 0x32 , 0x40 , 0x7E , 0x08 , 0x90 , 0x08 , 0x93 , 0x3F , 0x00 ,
0x02 , 0x0C , 0x10 , 0x62 , 0x10 , 0x89 , 0x99 , 0x32 , 0x62 , 0x46 , 0x08 , 0x90 , 0x0D , 0x93 , 0x23 , 0x00 ,
0x03 , 0xCF , 0x9E , 0x3C , 0x10 , 0x8C , 0xF1 , 0x32 , 0x3C , 0xC2 , 0x0F , 0x1E , 0x07 , 0x13 , 0x61 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 ,
0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00
};

 configuración nula () {
  pinMode (trigPin, SALIDA);
  pinMode (echoPin, ENTRADA);
  pinMode ( 8 , ENTRADA);
  mostrar. comenzar (SH1106_SWITCHCAPVCC, 0x3C ); // CONFIGURA LA DIRECCION DEL DISPLAY
  mostrar. borrar pantalla (); // PANTALLA BORRAR
  mostrar. setTextColor (BLANCO); // TEXTO EN COLOR BLANCO
  mostrar. establecerTamañoTexto ( 2 ); // TAMAÑO DE LA LETRA (SE PUDE AJUSTRAR CON DECIMALES EJEMPLO (1.1, 1.2, 1.3...)
  mostrar. establecerCursor ( 0 , 0 );
  mostrar. drawBitmap ( 0 , 0 , youtube, 128 , 64 , BLANCO);
  mostrar. mostrar ();
  retraso ( 3000 );
}

 bucle vacío () {
  pulsador = lectura digital ( 8 );
  if (pulsador==HIGH) {           // si el estado es pulsado
    personas = 0 ;
  }
  escritura digital (trigPin, BAJO);
  retrasoMicrosegundos ( 2 );
  escritura digital (trigPin, ALTA);
  retrasoMicrosegundos ( 10 );
  escritura digital (trigPin, BAJO);
  duración = pulseIn (echoPin, ALTA);
  distanciaCm= duración* 0,034 / 2 ;
  si (distanciaCm < 100 ) {
    personas += 1 ;
    retraso ( 700 ); // TIEMPO DE ESPERA
  }
  mostrar. borrar pantalla (); // PANTALLA BORRAR
  mostrar. establecerCursor ( 1 , 4 ); // POSICION DE INICIO DE ESCRITURA
  mostrar. println ( " Personas: " ); // TEXTO EN PANTALLA
  mostrar. establecerCursor ( 50 , 30 );
  mostrar. println (personas);
  mostrar. mostrar ();
}
